From 9b56eb55daf49c5e548149471d6fbfee698bf532 Mon Sep 17 00:00:00 2001
From: Rokis <ghost1988102@gmail.com>
Date: Tue, 16 Feb 2021 13:27:39 +0800
Subject: [PATCH 097/122] cfe: bumped revision to 1.0.37_mesh2

Signed-off-by: Rokis <ghost1988102@gmail.com>
---
 .../bcm947xx/compressed/rt-k3_nvram.txt       | 845 ++++++++++--------
 release/src/router/rc/k3.c                    |  43 +-
 2 files changed, 481 insertions(+), 407 deletions(-)

diff --git a/release/src-rt-7.14.114.x/src/cfe/build/broadcom/bcm947xx/compressed/rt-k3_nvram.txt b/release/src-rt-7.14.114.x/src/cfe/build/broadcom/bcm947xx/compressed/rt-k3_nvram.txt
index cdea9f828e..5ac3c849f4 100644
--- a/release/src-rt-7.14.114.x/src/cfe/build/broadcom/bcm947xx/compressed/rt-k3_nvram.txt
+++ b/release/src-rt-7.14.114.x/src/cfe/build/broadcom/bcm947xx/compressed/rt-k3_nvram.txt
@@ -1,6 +1,6 @@
 # NVRAM board text file for the BCM94709r_foxconn PA 2623L and 5542 Rev P503
 #
-# Copyright 2012, Broadcom Corporation
+# Copyright 2013, Broadcom Corporation
 # All Rights Reserved.
 #
 # THIS SOFTWARE IS OFFERED "AS IS", AND BROADCOM GRANTS NO WARRANTIES OF ANY
@@ -8,14 +8,19 @@
 # SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS
 # FOR A SPECIFIC PURPOSE OR NON-INFRINGEMENT CONCERNING THIS SOFTWARE.
 
-# sromrev tells the software what "version" of NVRAM is used. This is just for the CPU chip. The wireless chips will
-# their own sromrev settings.
+# sromrev tells the software what "version" of NVRAM is used. This entry is just for the CPU chip. The wireless chips
+# will have their own sromrev settings.
 sromrev=8
 
-# boardnum is set by the nvserial program. Don't edit it here.
+# Board Configuration Parameters
+
+# boardnum is set by the nvserial program to the number passed in the "-s <num>" option. Don't edit it here.
 boardnum=${serno}
 
 # boardtype describes what type of Broadcom reference board that the design resembles
+# Customer boards should not use the exact same boardtype numbers as Broadcom reference designs.
+# A different number is needed to keep the TCL test data from customer boards separate from reference boards.
+#
 #   Reference Board  boardtype    Reference Board  boardtype
 #   ---------------  ---------    ---------------  ---------
 #     BCM94704agr     0x042F        BCM95356ssnr    0x0505
@@ -50,11 +55,11 @@ boardtype=0x072F
 # Board revision.
 # With sromrev 4 and above, the boardrev is a 16 bit number as follows:
 # Bits [15:12] - Board Revision Type (brt), a 4 bit number with values:
-#                0: Legacy (old boardrev numbering scheme)
-#                2: Prototype "P" board.
+#                0: Legacy (old boardrev numbering scheme - do not use)
+#                1: Prototype "P" board.
 #                2: Production "A" board.
 #                3-15: Reserved.
-# Bits [12:0] - Board revision, 12 bits which use BCD encoding to represent a decimal number between 0 and 999.
+# Bits [11:0] - Board revision, 12 bits which use BCD encoding to represent a decimal number between 0 and 999.
 #
 # Ex: A legacy board rev of 4.5 is 0x0045
 # Ex: A P304 board rev is 0x1304
@@ -221,20 +226,21 @@ sdram_config=0x014B
 # Set DDR clock of 533MHz (800MT/s) for 4708r
 #sdram_ncdl=0
 
-# et0mcdport is which MDC/MDIO port is used to connect to the PHY/Switch chip. Only 4703/4704 has two MIIs, so this
-# parameter is nearly always "0".
+# et0mcdport is which MDC/MDIO port is used to connect to the internal or external Ethernet switch or PHY.
+# Nearly all wireless chips have only one external Ethernet MAC so this parameter should be set to "0".
 et0mdcport=0
-# Configure the internal GMAC port to talk to the internal Ethernet switch
-# et0phyaddr is the PHY address of the PHY chip or the address of the MII/RvMII/GMII/RGMII port of the switch chip.
+# et0phyaddr is the MDIO address of the internal or external Ethernet switch or PHY.
+# For all Broadcom Ethernet switches, internal to the wireless chip or external to it, will have an address of "30".
+# External PHY chips will have strapping options to set their address and that address can range from 0-31.
 et0phyaddr=30
 
 # Set the MAC address of the Ethernet ports
-# From 9/2009 onward MAC addresses have changed from that 8/16 split to a 12/12 split, so the new macmid will be
-# based on MAC addresses with the following format:
+# From 9/2009 onward MAC addresses have changed from an 8/16 split between macmid and the serial number, to a 12/12 split,
+# so the new macmid will be based on MAC addresses with the following format:
 #   47   40 39   32 31   24 23   16 15    8 7     0
 #  |  00   |  90   |  4C   |  XX   |  XY   |  YY   |
 # where the low 24 bits are evenly split into 4096 interface/ boardtypes and 4096 serial numbers. The low nibble of
-# XXX cannot be 0, since that corresponds to an old style MAC address, and macmid will correspond to bits 22:12, so
+# XXX cannot be 0, since that corresponds to an old style MAC address, and macmid will correspond to bits 23:12, so
 # its easy to differentiate them from the old ones.
 #
 # The new "macmid" values will start at 1 and go up to 0xFFF, skipping those that have the low nibble as 0 and the
@@ -304,57 +310,107 @@ et0macaddr=00:11:22:33:44:55
 telnetd_startup=1
 forcegen1rc=1
 
-# Ethernet switch config (vlan0:LAN, vlan2:WAN)
-# WAN is on port 0, LAN is on ports 1-4. Port 5 is the MAC interface to the internal switch or switch core.
-# It MUST be present on all VLANs. The "*" means to enable this group for CFE use. Only one VLAN can have this,
-# typically the LAN. 5325E/F and all internal switch cores use "5" for the MII port. 5395, 5397, and 53115 all use
-# "8" for the MII/GMII/RGMII port number.
-# NOTE: All packets on vlan1 (LAN) are tagged as such.
+# Ethernet switch VLAN configuration.
+# These parameters configure VLANs (Virtual LANs) for the internal or external Ethernet switch. This is done mainly
+# to separate the WAN port of a router from the LAN ports.
+# All Broadcom switches that have MAC ports with built-in PHYs will number the ports with PHYs starting at 0 and
+# incrementing upwards. For the MAC ports without PHYs, the numbering of that port(s) can vary. The table below shows
+# the numbering of the MAC only ports in various Broadcom chips.
+#
+#  Broadcom Chip   MAC only ports
+#  --------------  --------------
+#  BCM5356               5
+#  BCM5357/5358U         5
+#  BCM5358               5
+#  BCM47186              8
+#  BCM53115             5,8
+#  BCM53125             5,8
+#  BCM4707/8/9/81      5,7,8
+#
+# One of these ports will connect the Ethernet switch to the CPU of the wireless chip. For chips will built-in Ethernet
+# switches and PHYs, this port will be internal to the chip. This port number must be included in every VLAN definition
+# for the wireless chip to be able to route/bridge network traffic between the Ethernet ports, the wireless network(s),
+# and any other network device in the design (such as DSL, PLC, cellular data, etcâ€¦).
+#
+# A special symbol - an "*" - must be added to the end one, and only one, vlanXports parameter. This indicates which
+# VLAN is to be used by the bootloader for Ethernet network connections. Typically this the VLAN for the LAN ports.
+#
+# There are two other special tags that can be added after the MAC port number that connects to the CPU:
+#   "u" - configures the switch to not add VLAN tags for packets to/from the CPU and the other port(s) in the VLAN port list.
+#   "t" - configures the switch to add VLAN tags for packets to/from the CPU and the other port(s) in the VLAN port list.
+#         This is the normal behavior so the "t" is usually omitted.
+#
+# Also see the note under "wandevs" parameter when the WAN VLAN is tagged.
+# Typically vlan1 is the LAN, and vlan2 is the WAN)
+# NOTE: Bit 8 of boardflags must be set to "1" for these parameters to work.
+#
+# WAN is on port 0, LAN is on ports 1-4. Port 5 is the MAC interface to the external switch or switch core.
+#
 # vlan1 is the LAN.
 vlan1ports=0 1 2 5*
 vlan1hwname=et0
 
-# vlan2 is the WAN. The "u" configures the switch to not add vlan tags for packets to/from the
-# WAN port. A "t" (or nothing) in place of the "u" will configure the switch to add vlan tags for packets
-# to/from the WAN port. Also see note under "wandevs".
-vlan2ports=3 5
+# vlan2 is the WAN.
+vlan2ports=3 5u
 vlan2hwname=et0
 
-# If the board is a dual band design the second wireless interface (usually the "a" band)
-# will come up as a second device. But we have to tell the software to hook to this
-# second wireless interface named  "wl1". So set "landevs=vlan1 wl0 wl1".
-# Else, just use the standard configuration of "landevs=vlan1 wl0".
-#landevs=vlan1 wl1
-#landevs=vlan1 wl0
-#landevs=vlan1 wl0 wl1
-
+# The landevs parameter is used to connect (or "bridge") a number of different network interfaces together to form the
+# LAN of the wireless router/AP design. Typically the two main network interfaces that are part of the LAN are the
+# Ethernet port(s), and the wireless network interface(s).
+#   Example: landevs=vlan1 wl0
+# This would bridge the Ethernet VLAN named "vlan1" with the one wireless interface named "wl0", together to form the LAN.
+#
+#   Example: landevs=vlan1 wl0 wl1
+# This would bridge the Ethernet VLAN named "vlan1" with the two wireless interfaces named "wl0" and "wl1", together to
+# form the LAN. Two wireless interfaces are used for simultaneous dual-band (2.4GHz and 5GHz) router/AP designs.
+#
+# If VLAN names are not used, then device names such as "et0" must be used for Ethernet instead.
+#
 landevs=vlan1 wl0 wl1
 
-# The WAN port is almost always on an Ethernet port so use the normal config. If the WAN
-# port is not an Ethernet port, then this parameter must be changed accordingly.
-# NOTE: If WAN packets are vlan tagged, then must use "vlan2" in place of "et0".
-#       For the default case of no WAN vlan tags, then must use "et0".
-# NOTE: If the board does not have a WAN port then must use "wandevs=".
+# The wandevs parameter is used to tell the software which network interface to use as the WAN. Typically the WAN is an Ethernet port.
+# If Ethernet WAN packets are VLAN tagged, then wandevs should be set to "vlanX", where "X" is the VLAN number that
+# corresponds to the WAN VLAN number as set by a "vlanXports" and "vlanXhwname" parameter pair.
+# For when Ethernet WAN packets are not VLAN tagged, then wandevs should be set to "etX", where "X" is the number of the
+# Ethernet interface that contains the WAN port, typically "0". So typically wandevs is set to "et0".
+#
+# NOTE: If the board does not have a WAN port then must use "wandevs=", without any device name assignment. This is
+# critical for the proper functioning of the network software when there is no WAN port.
+#
+# The WAN port is almost always on an Ethernet port so use the normal config. If the WAN port is not an Ethernet port,
+# then this parameter must be changed accordingly.
+#
 # WAN port is on eth0.
-wandevs=vlan2
+wandevs=et0
 
-# Set default IP address and net mask for the router.
+# Set the factory default IP address and subnet mask for the router.
 lan_ipaddr=192.168.1.1
 lan_netmask=255.255.255.0
 
+
+# WPS Configuration Parameters
+
 # If the board supports WPS, then these parameters tell the software
 # which GPIO is used for the WPS pushbutton and which is used for the WPS LED indicator.
 #gpio2=wps_led
 #gpio3=wps_button
 
-# Set a short delay on boot so the CFE delays a bit before loading Linux. Allows easier S/W updates.
+
+# Other Parameters
+
+# Enable a short delay on boot so the CFE delays before loading and executing Linux. Durring this time the CFE listens
+# for a TFTP transfer to come in from an external source via the Ethernet LAN. The purpose of this process is to
+# enable easy firmware upgrades and support manufacturing testing.
 boot_wait=on
 
-# If boot_wait is on, then "wait_time" sets the wait time from 3 to 20 seconds.
+# If boot_wait is on, then "wait_time" sets the wait time from 1 to 99 seconds. Three seconds is long enough time to
+# allow a TFTP transfer to start, while not slowing down the overall boot time.
 wait_time=1
 
-# Watchdog timer in ms (0 will disable), 3000ms is minimum. 5592ms is maximum.
-#watchdog=3000
+# Watchdog timer in ms.
+# For all CPU chips other than the 4707/8/9/81, the valid range is 3000ms to 5500ms.
+# For the 4707/8/9/81 the valid range is 1000ms to 2100ms.
+# A setting of 0 will disable the watchdog.
 watchdog=2100
 
 # For a PCIe interface to the wireless chip, these parameters must have a special prefix. There are two formats for this prefix:
@@ -387,38 +443,179 @@ watchdog=2100
 # The "devpathX" parameters set an abbreviated notation to replace a prefix. The notation for the abbreviated prefix
 # is "X:", where X is the same number as used in the "devpathX=<prefix>" definition.
 #
-# For example, if "devpath1=pcie/1/1/" is set, then instead of using the full "pcie/1/1/" prefix, the abbreviation "2:" is used as the prefix.
+# For example, if "devpath1=pcie/1/1/" is set, then instead of using the full "pcie/1/1/" prefix, the abbreviation "1:" is used as the prefix.
 #
 # NOTE: With the use of compressed eNVRAM there is no longer a need to use "devpathX" parameters, and the full prefixes should be used.
 #
 #devpath0=pcie/1/4/
-1:devpath1=sb/1/
-2:devpath2=sb/1/
-devpath1=pcie/1/1/
+0:devpath0=sb/1/
+devpath0=pcie/1/1/
 
 ### 2G and 5G lower band share PCIe_0
+0:sromrev=13
+0:boardflags=0x10001000
+0:boardflags2=0x4
+0:boardflags3=0x0
+0:boardflags4=0xe
+0:venid=0x14e4
+0:devid=0x43c4
+0:macaddr=00:10:22:33:44:55
+0:ccode=ALL
+0:regrev=0
+0:aa2g=15
+0:agbg0=0x133
+0:agbg1=0x133
+0:agbg2=0x133
+0:agbg3=0x133
+0:antswitch=0
+0:tssiposslope2g=1
+0:epagain2g=0
+0:pdgain2g=2
+0:tworangetssi2g=0
+0:papdcap2g=0
+0:femctrl=2
+0:gainctrlsph=0
+0:tempthresh=120
+0:tempoffset=255
+0:rawtempsense=0x1ff
+0:measpower=0x7f
+0:tempsense_slope=0xff
+0:tempcorrx=0x3f
+0:tempsense_option=0x3
+0:xtalfreq=40000
+0:phycal_tempdelta=40
+0:temps_period=10
+0:temps_hysteresis=5
+0:measpower1=0x7f
+0:measpower2=0x7e
+0:tssifloor2g=0x339
+0:pdoffset2g40ma0=0
+0:pdoffset2g40ma1=0
+0:pdoffset2g40ma2=0
+0:pdoffset2g40mvalid=0
+0:pdoffset40ma0=43452
+0:pdoffset40ma1=43452
+0:pdoffset40ma2=43452
+0:pdoffset80ma0=43452
+0:pdoffset80ma1=2114
+0:pdoffset80ma2=99
+0:paparambwver=0
+0:pa2gccka0=0xffff,0xffff,0xffff
+0:cckbw202gpo=0
+0:cckbw20ul2gpo=0
+0:mcsbw202gpo=0xCCA86400
+0:mcsbw402gpo=0xCCA86400
+0:dot11agofdmhrbw202gpo=0x8420
+0:ofdmlrbw202gpo=0
+0:sb20in40hrpo=0
+0:sb20in40lrpo=0
+0:sb20in40hrlrpox=0
+0:dot11agduphrpo=0
+0:dot11agduplrpo=0
+0:dot11agduphrlrpox=0
+0:pcieingress_war=15
+0:sar2g=18
+0:noiselvl2ga0=31
+0:noiselvl2ga1=31
+0:noiselvl2ga2=31
+0:noiselvl2ga3=31
+0:rxgainerr2ga0=63
+0:rxgainerr2ga1=31
+0:rxgainerr2ga2=31
+0:rxgainerr2ga3=31
+0:rpcal2g=0XFA1A
+0:txidxcap2g=0
+0:pdoffsetcckma0=15
+0:pdoffsetcckma1=15
+0:pdoffsetcckma2=15
+0:rxgains2gelnagaina0=3
+0:rxgains2gelnagaina1=3
+0:rxgains2gelnagaina2=3
+0:rxgains2gelnagaina3=3
+0:rxgains2gtrisoa0=7
+0:rxgains2gtrisoa1=7
+0:rxgains2gtrisoa2=7
+0:rxgains2gtrisoa3=7
+0:rxgains2gtrelnabypa0=1
+0:rxgains2gtrelnabypa1=1
+0:rxgains2gtrelnabypa2=1
+0:rxgains2gtrelnabypa3=1
+0:eu_edthresh2g=255
+0:mcs1024qam2gpo=0x000
+0:ulbpproffs2g=65535
+0:mcs8poexp=0
+0:mcs9poexp=0
+0:mcs10poexp=0x11111111
+0:mcs11poexp=0x11111111
+0:ulbpdoffs2ga0=65535
+0:ulbpdoffs2ga1=65535
+0:ulbpdoffs2ga2=65535
+0:ulbpdoffs2ga3=65535
+0:sb20in40hrlrpox=0
+0:pdoffset2gcck=0x0000
+0:pdoffset20in40m2g=0x7BDE
+0:pdoffset20in40m2gcore3=0x001E
+0:swctrlmap4_cfg=0x5
+0:swctrlmap4_TX2g_fem3to0=0xaaaa
+0:swctrlmap4_RX2g_fem3to0=0x4444
+0:swctrlmap4_RXByp2g_fem3to0=0x6666
+0:swctrlmap4_misc2g_fem3to0=0x2222
+0:swctrlmap4_TX2g_fem7to4=0
+0:swctrlmap4_RX2g_fem7to4=0
+0:swctrlmap4_RXByp2g_fem7to4=0
+0:swctrlmap4_misc2g_fem7to4=0
+0:maxp2ga0=0x78
+0:maxp2ga1=0x78
+0:maxp2ga2=0x78
+0:maxp2ga3=0x78
+0:pa2ga0=0x1D05,0xD4C7,0x1E54,0x2407
+0:pa2ga1=0x1CE3,0xD4E9,0x1E27,0x2409
+0:pa2ga2=0x1C71,0xD5A8,0x1D21,0x23DC
+0:pa2ga3=0x1D10,0xD52A,0x1F11,0x2433
+0:pa2g40a0=0x1D72,0xDC6E,0x2BD6,0x255B
+0:pa2g40a1=0x1D34,0xDDE4,0x2EFF,0x25D6
+0:pa2g40a2=0x1D63,0xDBC2,0x2ACE,0x2533
+0:pa2g40a3=0x1D6B,0xDE8E,0x2FCB,0x25D7
+0:pa5ga0=0x1D05,0xD4C7,0x1E54,0x2407,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+0:pa5ga1=0x1CE3,0xD4E9,0x1E27,0x2409,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+0:pa5ga2=0x1D10,0xD52A,0x1F11,0x2433,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+0:pa5ga3=0x1D10,0xD52A,0x1F11,0x2433,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+0:pa5g40a0=0x1D72,0xDC6E,0x2BD6,0x255B,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+0:pa5g40a1=0x1D34,0xDDE4,0x2EFF,0x25D6,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+0:pa5g40a2=0x1D63,0xDBC2,0x2ACE,0x2533,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+0:pa5g40a3=0x1D6B,0xDE8E,0x2FCB,0x25D7,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+0:rxchain=0xf
+0:txchain=0xf
+0:srom13sig=0x4D55
+
+# The "devpathX" parameters set an abbreviated notation to replace a prefix. The notation for the abbreviated prefix
+# is "X:", where X is the same number as used in the "devpathX=<prefix>" definition.
+devpath1=pcie/2/1/
+1:devpath1=sb/1/
+
+##5G high band BCM43602 with SKY5542, PCIe_1
 1:sromrev=13
 1:boardflags=0x10001000
-1:boardflags2=0x4
+1:boardflags2=0x00000004
 1:boardflags3=0x0
-1:boardflags4=0xe
+1:boardflags4=0x000E
 1:venid=0x14e4
-1:devid=0x43c4
-1:macaddr=00:11:22:33:44:66
-1:ccode=#a
+1:devid=0x43c5
+1:macaddr=00:11:22:33:44:77
+1:ccode=ALL
 1:regrev=0
-1:aa2g=15
-1:agbg0=0x133
-1:agbg1=0x133
-1:agbg2=0x133
-1:agbg3=0x133
+1:aa5g=15
+1:aga0=71
+1:aga1=71
+1:aga2=71
+1:aga3=71
 1:antswitch=0
-1:tssiposslope2g=1
-1:epagain2g=0
-1:pdgain2g=2
-1:tworangetssi2g=0
-1:papdcap2g=0
 1:femctrl=2
+1:tssiposslope5g=1
+1:epagain5g=0
+1:pdgain5g=2
+1:tworangetssi5g=0
+1:papdcap5g=0
 1:gainctrlsph=0
 1:tempthresh=120
 1:tempoffset=255
@@ -433,358 +630,215 @@ devpath1=pcie/1/1/
 1:temps_hysteresis=5
 1:measpower1=0x7f
 1:measpower2=0x7e
-1:tssifloor2g=0x339
-1:pdoffset2g40ma0=0
-1:pdoffset2g40ma1=0
-1:pdoffset2g40ma2=0
-1:pdoffset2g40mvalid=0
+1:tssifloor5g=0x0,0x3ff,0x335,0x318
 1:pdoffset40ma0=43452
 1:pdoffset40ma1=43452
 1:pdoffset40ma2=43452
 1:pdoffset80ma0=43452
 1:pdoffset80ma1=2114
 1:pdoffset80ma2=99
+1:subband5gver=0x5
 1:paparambwver=0
-1:pa2gccka0=0xffff,0xffff,0xffff
-1:cckbw202gpo=0
-1:cckbw20ul2gpo=0
-1:mcsbw202gpo=0xCCA86400
-1:mcsbw402gpo=0xCCA86400
-1:dot11agofdmhrbw202gpo=0x8420
-1:ofdmlrbw202gpo=0
+1:mcsbw205glpo=0xCBA87642
+1:mcsbw405glpo=0xCBA87642
+1:mcsbw805glpo=0xCBA87642
+1:mcsbw1605glpo=0xCBA87642
+1:mcsbw205gmpo=0xCBA87642
+1:mcsbw405gmpo=0xCBA87642
+1:mcsbw805gmpo=0xCBA87642
+1:mcsbw1605gmpo=0xCBA87642
+1:mcsbw205ghpo=0xCBA87642
+1:mcsbw405ghpo=0xCBA87642
+1:mcsbw805ghpo=0xCBA87642
+1:mcsbw1605ghpo=0xCBA87642
+1:mcslr5glpo=0
+1:mcslr5gmpo=0
+1:mcslr5ghpo=0
 1:sb20in40hrpo=0
+1:sb20in80and160hr5glpo=0
+1:sb40and80hr5glpo=0
+1:sb20in80and160hr5gmpo=0
+1:sb40and80hr5gmpo=0
+1:sb20in80and160hr5ghpo=0
+1:sb40and80hr5ghpo=0
 1:sb20in40lrpo=0
-1:sb20in40hrlrpox=0
+1:sb20in80and160lr5glpo=0
+1:sb40and80lr5glpo=0
+1:sb20in80and160lr5gmpo=0
+1:sb40and80lr5gmpo=0
+1:sb20in80and160lr5ghpo=0
+1:sb40and80lr5ghpo=0
 1:dot11agduphrpo=0
 1:dot11agduplrpo=0
-1:dot11agduphrlrpox=0
+1:sar5g=15
 1:pcieingress_war=15
-1:sar2g=18
-1:noiselvl2ga0=31
-1:noiselvl2ga1=31
-1:noiselvl2ga2=31
-1:rxgainerr2ga0=63
-1:rxgainerr2ga1=31
-1:rxgainerr2ga2=31
-1:rpcal2g=0XFA1A
-1:txidxcap2g=0
+1:noiselvl5ga0=31,31,31,31
+1:noiselvl5ga1=31,31,31,31
+1:noiselvl5ga2=31,31,31,31
+1:noiselvl5ga3=31,31,31,31
+1:rxgainerr5ga0=63,63,63,63
+1:rxgainerr5ga1=31,31,31,31
+1:rxgainerr5ga2=31,31,31,31
+1:rxgainerr5ga3=31,31,31,31
+1:rpcal5gb0=0X6343
+1:rpcal5gb1=0X7043
+1:rpcal5gb2=0X7748
+1:rpcal5gb3=0X8257
+1:rpcal5gb4=0
+1:txidxcap5g=0
 1:pdoffsetcckma0=15
 1:pdoffsetcckma1=15
 1:pdoffsetcckma2=15
-1:rxgains2gelnagaina0=3
-1:rxgains2gelnagaina1=3
-1:rxgains2gelnagaina2=3
-1:rxgains2gelnagaina3=3
-1:rxgains2gtrisoa0=7
-1:rxgains2gtrisoa1=7
-1:rxgains2gtrisoa2=7
-1:rxgains2gtrisoa3=7
-1:rxgains2gtrelnabypa0=1
-1:rxgains2gtrelnabypa1=1
-1:rxgains2gtrelnabypa2=1
-1:rxgains2gtrelnabypa3=1
-1:eu_edthresh2g=255
-1:noiselvl2ga3=31
-1:rxgainerr2ga3=31
-1:mcs1024qam2gpo=0x000
-1:ulbpproffs2g=65535
+1:pdoffsetcck=0
+1:pdoffset20in40m5gb0=0x7BBD
+1:pdoffset20in40m5gb1=0x7BBD
+1:pdoffset20in40m5gb2=0x77BD
+1:pdoffset20in40m5gb3=0x77BD
+1:pdoffset20in40m5gb4=0x77BD
+1:pdoffset40in80m5gb0=0x0000
+1:pdoffset40in80m5gb1=0x0420
+1:pdoffset40in80m5gb2=0x0440
+1:pdoffset40in80m5gb3=0x0820
+1:pdoffset40in80m5gb4=0x0841
+1:pdoffset20in80m5gb0=0x7BDD
+1:pdoffset20in80m5gb1=0x7FFF
+1:pdoffset20in80m5gb2=0x7BDE
+1:pdoffset20in80m5gb3=0x7BDE
+1:pdoffset20in80m5gb4=0x7BDE
+1:mcsbw205gx1po=0xCBA87642
+1:mcsbw405gx1po=0xCBA87642
+1:mcsbw805gx1po=0xCBA87642
+1:mcsbw1605gx1po=0xCBA87642
+1:mcslr5gx1po=0
+1:sb20in80and160hr5gx1po=0
+1:sb40and80hr5gx1po=0
+1:sb20in40hrlrpox=0
+1:dot11agduphrlrpox=0
+1:mcsbw205gx2po=0xCBA87642
+1:mcsbw405gx2po=0xCBA87642
+1:mcsbw805gx2po=0xCBA87642
+1:mcsbw1605gx2po=0xCBA87642
+1:mcslr5gx2po=0
+1:sb40and80lr5gx2po=0
+1:sb20in80and160hr5gx2po=0
+1:sb40and80hr5gx2po=0
+1:sb20in80and160lr5gx2po=0
+1:rxgains5gelnagaina0=3
+1:rxgains5gelnagaina1=3
+1:rxgains5gelnagaina2=3
+1:rxgains5gelnagaina3=3
+1:rxgains5gtrisoa0=7
+1:rxgains5gtrisoa1=7
+1:rxgains5gtrisoa2=7
+1:rxgains5gtrisoa3=7
+1:rxgains5gtrelnabypa0=1
+1:rxgains5gtrelnabypa1=1
+1:rxgains5gtrelnabypa2=1
+1:rxgains5gtrelnabypa3=1
+1:rxgains5gmelnagaina0=3
+1:rxgains5gmelnagaina1=3
+1:rxgains5gmelnagaina2=3
+1:rxgains5gmelnagaina3=3
+1:rxgains5gmtrisoa0=6
+1:rxgains5gmtrisoa1=6
+1:rxgains5gmtrisoa2=6
+1:rxgains5gmtrisoa3=6
+1:rxgains5gmtrelnabypa0=1
+1:rxgains5gmtrelnabypa1=1
+1:rxgains5gmtrelnabypa2=1
+1:rxgains5gmtrelnabypa3=1
+1:rxgains5ghelnagaina0=3
+1:rxgains5ghelnagaina1=3
+1:rxgains5ghelnagaina2=3
+1:rxgains5ghelnagaina3=3
+1:rxgains5ghtrisoa0=6
+1:rxgains5ghtrisoa1=6
+1:rxgains5ghtrisoa2=6
+1:rxgains5ghtrisoa3=6
+1:rxgains5ghtrelnabypa0=1
+1:rxgains5ghtrelnabypa1=1
+1:rxgains5ghtrelnabypa2=1
+1:rxgains5ghtrelnabypa3=1
+1:eu_edthresh5g=255
+1:mcs1024qam5glpo=0x00000000
+1:mcs1024qam5gmpo=0x00000000
+1:mcs1024qam5ghpo=0x00000000
+1:mcs1024qam5gx1po=0x00000000
+1:mcs1024qam5gx2po=0x00000000
 1:mcs8poexp=0
 1:mcs9poexp=0
-1:mcs10poexp=0x11111111
-1:mcs11poexp=0x11111111
-1:ulbpdoffs2ga0=65535
-1:ulbpdoffs2ga1=65535
-1:ulbpdoffs2ga2=65535
-1:ulbpdoffs2ga3=65535
-1:sb20in40hrlrpox=0
-1:pdoffset2gcck=0x0000
-1:pdoffset20in40m2g=0x7BDE
-1:pdoffset20in40m2gcore3=0x001E
-1:swctrlmap4_cfg=0x5
-1:swctrlmap4_TX2g_fem3to0=0xaaaa
-1:swctrlmap4_RX2g_fem3to0=0x4444
-1:swctrlmap4_RXByp2g_fem3to0=0x6666
-1:swctrlmap4_misc2g_fem3to0=0x2222
-1:swctrlmap4_TX2g_fem7to4=0
-1:swctrlmap4_RX2g_fem7to4=0
-1:swctrlmap4_RXByp2g_fem7to4=0
-1:swctrlmap4_misc2g_fem7to4=0
-1:maxp2ga0=0x78
-1:maxp2ga1=0x78
-1:maxp2ga2=0x78
-1:maxp2ga3=0x78
-1:pa2ga0=0x1D05,0xD4C7,0x1E54,0x2407
-1:pa2ga1=0x1CE3,0xD4E9,0x1E27,0x2409
-1:pa2ga2=0x1C71,0xD5A8,0x1D21,0x23DC
-1:pa2ga3=0x1D10,0xD52A,0x1F11,0x2433
-1:pa2g40a0=0x1D72,0xDC6E,0x2BD6,0x255B
-1:pa2g40a1=0x1D34,0xDDE4,0x2EFF,0x25D6
-1:pa2g40a2=0x1D63,0xDBC2,0x2ACE,0x2533
-1:pa2g40a3=0x1D6B,0xDE8E,0x2FCB,0x25D7
-1:pa5ga0=0x1D05,0xD4C7,0x1E54,0x2407,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
-1:pa5ga1=0x1CE3,0xD4E9,0x1E27,0x2409,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
-1:pa5ga2=0x1D10,0xD52A,0x1F11,0x2433,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
-1:pa5ga3=0x1D10,0xD52A,0x1F11,0x2433,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
-1:pa5g40a0=0x1D72,0xDC6E,0x2BD6,0x255B,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
-1:pa5g40a1=0x1D34,0xDDE4,0x2EFF,0x25D6,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
-1:pa5g40a2=0x1D63,0xDBC2,0x2ACE,0x2533,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
-1:pa5g40a3=0x1D6B,0xDE8E,0x2FCB,0x25D7,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
+1:mcs10poexp=0x3E3E3E3E
+1:mcs11poexp=0x3E3E3E3E
+1:ulbpdoffs5gb0a0=65535
+1:ulbpdoffs5gb0a1=65535
+1:ulbpdoffs5gb0a2=65535
+1:ulbpdoffs5gb0a3=65535
+1:ulbpdoffs5gb1a0=65535
+1:ulbpdoffs5gb1a1=65535
+1:ulbpdoffs5gb1a2=65535
+1:ulbpdoffs5gb1a3=65535
+1:ulbpdoffs5gb2a0=65535
+1:ulbpdoffs5gb2a1=65535
+1:ulbpdoffs5gb2a2=65535
+1:ulbpdoffs5gb2a3=65535
+1:ulbpdoffs5gb3a0=65535
+1:ulbpdoffs5gb3a1=65535
+1:ulbpdoffs5gb3a2=65535
+1:ulbpdoffs5gb3a3=65535
+1:ulbpdoffs5gb4a0=65535
+1:ulbpdoffs5gb4a1=65535
+1:ulbpdoffs5gb4a2=65535
+1:ulbpdoffs5gb4a3=65535
+1:pdoffset40in80m5gcore3=0x0422
+1:pdoffset40in80m5gcore3_1=0x0041
+1:pdoffset20in80m5gcore3=0x7BFE
+1:pdoffset20in80m5gcore3_1=0x03DE
+1:pdoffset20in40m5gcore3=0x77BD
+1:pdoffset20in40m5gcore3_1=0x03BD
+1:swctrlmap4_cfg=1
+1:swctrlmap4_TX5g_fem3to0=0x6666
+1:swctrlmap4_RX5g_fem3to0=0x1111
+1:swctrlmap4_RXByp5g_fem3to0=0x3333
+1:swctrlmap4_misc5g_fem3to0=0x0000
+1:swctrlmap4_TX5g_fem7to4=0
+1:swctrlmap4_RX5g_fem7to4=0
+1:swctrlmap4_RXByp5g_fem7to4=0
+1:swctrlmap4_misc5g_fem7to4=0
 1:rxchain=0xf
 1:txchain=0xf
 1:srom13sig=0x4D55
-
-# The "devpathX" parameters set an abbreviated notation to replace a prefix. The notation for the abbreviated prefix
-# is "X:", where X is the same number as used in the "devpathX=<prefix>" definition.
-devpath2=pcie/2/1/
-
-##5G high band BCM43602 with SKY5542, PCIe_1
-2:sromrev=13
-2:boardflags=0x10001000
-2:boardflags2=0x00000004
-2:boardflags3=0x0
-2:boardflags4=0x000E
-2:venid=0x14e4
-2:devid=0x43c5
-2:macaddr=00:11:22:33:44:77
-2:ccode=#a
-2:regrev=0
-2:aa5g=15
-2:aga0=71
-2:aga1=71
-2:aga2=71
-2:aga3=71
-2:antswitch=0
-2:femctrl=2
-2:tssiposslope5g=1
-2:epagain5g=0
-2:pdgain5g=2
-2:tworangetssi5g=0
-2:papdcap5g=0
-2:gainctrlsph=0
-2:tempthresh=120
-2:tempoffset=255
-2:rawtempsense=0x1ff
-2:measpower=0x7f
-2:tempsense_slope=0xff
-2:tempcorrx=0x3f
-2:tempsense_option=0x3
-2:xtalfreq=40000
-2:phycal_tempdelta=40
-2:temps_period=10
-2:temps_hysteresis=5
-2:measpower1=0x7f
-2:measpower2=0x7e
-2:tssifloor5g=0x0,0x3ff,0x335,0x318
-2:pdoffset40ma0=43452
-2:pdoffset40ma1=43452
-2:pdoffset40ma2=43452
-2:pdoffset80ma0=43452
-2:pdoffset80ma1=2114
-2:pdoffset80ma2=99
-2:subband5gver=0x5
-2:paparambwver=0
-2:mcsbw205glpo=0xCBA87642
-2:mcsbw405glpo=0xCBA87642
-2:mcsbw805glpo=0xCBA87642
-2:mcsbw205gmpo=0xCBA87642
-2:mcsbw405gmpo=0xCBA87642
-2:mcsbw805gmpo=0xCBA87642
-2:mcsbw205ghpo=0xCBA87642
-2:mcsbw405ghpo=0xCBA87642
-2:mcsbw805ghpo=0xCBA87642
-2:mcslr5glpo=0
-2:mcslr5gmpo=0
-2:mcslr5ghpo=0
-2:sb20in40hrpo=0
-2:sb20in80and160hr5glpo=0
-2:sb40and80hr5glpo=0
-2:sb20in80and160hr5gmpo=0
-2:sb40and80hr5gmpo=0
-2:sb20in80and160hr5ghpo=0
-2:sb40and80hr5ghpo=0
-2:sb20in40lrpo=0
-2:sb20in80and160lr5glpo=0
-2:sb40and80lr5glpo=0
-2:sb20in80and160lr5gmpo=0
-2:sb40and80lr5gmpo=0
-2:sb20in80and160lr5ghpo=0
-2:sb40and80lr5ghpo=0
-2:dot11agduphrpo=0
-2:dot11agduplrpo=0
-2:sar5g=15
-2:pcieingress_war=15
-2:noiselvl5ga0=31,31,31,31
-2:noiselvl5ga1=31,31,31,31
-2:noiselvl5ga2=31,31,31,31
-2:noiselvl5ga3=31,31,31,31
-2:rxgainerr5ga0=63,63,63,63
-2:rxgainerr5ga1=31,31,31,31
-2:rxgainerr5ga2=31,31,31,31
-2:rxgainerr5ga3=31,31,31,31
-2:rpcal5gb0=0X6343
-2:rpcal5gb1=0X7043
-2:rpcal5gb2=0X7748
-2:rpcal5gb3=0X8257
-2:rpcal5gb4=0
-2:txidxcap5g=0
-2:pdoffsetcckma0=15
-2:pdoffsetcckma1=15
-2:pdoffsetcckma2=15
-2:pdoffsetcck=0
-2:pdoffset20in40m5gb0=0x7BBD
-2:pdoffset20in40m5gb1=0x7BBD
-2:pdoffset20in40m5gb2=0x77BD
-2:pdoffset20in40m5gb3=0x77BD
-2:pdoffset20in40m5gb4=0x77BD
-2:pdoffset40in80m5gb0=0x0000
-2:pdoffset40in80m5gb1=0x0420
-2:pdoffset40in80m5gb2=0x0440
-2:pdoffset40in80m5gb3=0x0820
-2:pdoffset40in80m5gb4=0x0841
-2:pdoffset20in80m5gb0=0x7BDD
-2:pdoffset20in80m5gb1=0x7FFF
-2:pdoffset20in80m5gb2=0x7BDE
-2:pdoffset20in80m5gb3=0x7BDE
-2:pdoffset20in80m5gb4=0x7BDE
-2:mcsbw205gx1po=0xCBA87642
-2:mcsbw405gx1po=0xCBA87642
-2:mcsbw805gx1po=0xCBA87642
-2:mcslr5gx1po=0
-2:sb20in80and160hr5gx1po=0
-2:sb40and80hr5gx1po=0
-2:sb20in40hrlrpox=0
-2:dot11agduphrlrpox=0
-2:mcsbw205gx2po=0xCBA87642
-2:mcsbw405gx2po=0xCBA87642
-2:mcsbw805gx2po=0xCBA87642
-2:mcslr5gx2po=0
-2:sb40and80lr5gx2po=0
-2:sb20in80and160hr5gx2po=0
-2:sb40and80hr5gx2po=0
-2:sb20in80and160lr5gx2po=0
-2:rxgains5gelnagaina0=3
-2:rxgains5gelnagaina1=3
-2:rxgains5gelnagaina2=3
-2:rxgains5gelnagaina3=3
-2:rxgains5gtrisoa0=7
-2:rxgains5gtrisoa1=7
-2:rxgains5gtrisoa2=7
-2:rxgains5gtrisoa3=7
-2:rxgains5gtrelnabypa0=1
-2:rxgains5gtrelnabypa1=1
-2:rxgains5gtrelnabypa2=1
-2:rxgains5gtrelnabypa3=1
-2:rxgains5gmelnagaina0=3
-2:rxgains5gmelnagaina1=3
-2:rxgains5gmelnagaina2=3
-2:rxgains5gmelnagaina3=3
-2:rxgains5gmtrisoa0=6
-2:rxgains5gmtrisoa1=6
-2:rxgains5gmtrisoa2=6
-2:rxgains5gmtrisoa3=6
-2:rxgains5gmtrelnabypa0=1
-2:rxgains5gmtrelnabypa1=1
-2:rxgains5gmtrelnabypa2=1
-2:rxgains5gmtrelnabypa3=1
-2:rxgains5ghelnagaina0=3
-2:rxgains5ghelnagaina1=3
-2:rxgains5ghelnagaina2=3
-2:rxgains5ghelnagaina3=3
-2:rxgains5ghtrisoa0=6
-2:rxgains5ghtrisoa1=6
-2:rxgains5ghtrisoa2=6
-2:rxgains5ghtrisoa3=6
-2:rxgains5ghtrelnabypa0=1
-2:rxgains5ghtrelnabypa1=1
-2:rxgains5ghtrelnabypa2=1
-2:rxgains5ghtrelnabypa3=1
-2:eu_edthresh5g=255
-2:noiselvl5ga3=31,31,31,31
-2:rxgainerr5ga3=31,31,31,31
-2:mcs1024qam5glpo=0x00000000
-2:mcs1024qam5gmpo=0x00000000
-2:mcs1024qam5ghpo=0x00000000
-2:mcs1024qam5gx1po=0x00000000
-2:mcs1024qam5gx2po=0x00000000
-2:mcsbw1605glpo=0xFFFFFFFF
-2:mcsbw1605gmpo=0xFFFFFFFF
-2:mcsbw1605ghpo=0xFFFFFFFF
-2:mcsbw1605gx1po=0xFFFFFFFF
-2:mcsbw1605gx2po=0xFFFFFFFF
-2:mcs8poexp=0
-2:mcs9poexp=0
-2:mcs10poexp=0x3E3E3E3E
-2:mcs11poexp=0x3E3E3E3E
-2:ulbpdoffs5gb0a0=65535
-2:ulbpdoffs5gb0a1=65535
-2:ulbpdoffs5gb0a2=65535
-2:ulbpdoffs5gb0a3=65535
-2:ulbpdoffs5gb1a0=65535
-2:ulbpdoffs5gb1a1=65535
-2:ulbpdoffs5gb1a2=65535
-2:ulbpdoffs5gb1a3=65535
-2:ulbpdoffs5gb2a0=65535
-2:ulbpdoffs5gb2a1=65535
-2:ulbpdoffs5gb2a2=65535
-2:ulbpdoffs5gb2a3=65535
-2:ulbpdoffs5gb3a0=65535
-2:ulbpdoffs5gb3a1=65535
-2:ulbpdoffs5gb3a2=65535
-2:ulbpdoffs5gb3a3=65535
-2:ulbpdoffs5gb4a0=65535
-2:ulbpdoffs5gb4a1=65535
-2:ulbpdoffs5gb4a2=65535
-2:ulbpdoffs5gb4a3=65535
-2:pdoffset40in80m5gcore3=0x0422
-2:pdoffset40in80m5gcore3_1=0x0041
-2:pdoffset20in80m5gcore3=0x7BFE
-2:pdoffset20in80m5gcore3_1=0x03DE
-2:pdoffset20in40m5gcore3=0x77BD
-2:pdoffset20in40m5gcore3_1=0x03BD
-2:swctrlmap4_cfg=1
-2:swctrlmap4_TX5g_fem3to0=0x6666
-2:swctrlmap4_RX5g_fem3to0=0x1111
-2:swctrlmap4_RXByp5g_fem3to0=0x3333
-2:swctrlmap4_misc5g_fem3to0=0x0000
-2:swctrlmap4_TX5g_fem7to4=0
-2:swctrlmap4_RX5g_fem7to4=0
-2:swctrlmap4_RXByp5g_fem7to4=0
-2:swctrlmap4_misc5g_fem7to4=0
-2:rxchain=0xf
-2:txchain=0xf
-2:srom13sig=0x4D55
-2:maxp5gb0a0=0x78
-2:maxp5gb1a0=0x78
-2:maxp5gb2a0=0x78
-2:maxp5gb3a0=0x78
-2:maxp5gb4a0=0x78
-2:maxp5gb0a1=0x78
-2:maxp5gb1a1=0x78
-2:maxp5gb2a1=0x78
-2:maxp5gb3a1=0x78
-2:maxp5gb4a1=0x78
-2:maxp5gb0a2=0x78
-2:maxp5gb1a2=0x78
-2:maxp5gb2a2=0x78
-2:maxp5gb3a2=0x78
-2:maxp5gb4a2=0x78
-2:maxp5gb0a3=0x78
-2:maxp5gb1a3=0x78
-2:maxp5gb2a3=0x78
-2:maxp5gb3a3=0x78
-2:maxp5gb4a3=0x78
-2:pa5g80a0=0x1fef,0xd66f,0x3a19,0x257b,0x2078,0xd598,0x3bc7,0x2598,0x1F6E,0xD912,0x3B2A,0x2563,0x1FA2,0xD71C,0x38D3,0x2524,0x1fd2,0xd7e4,0x42ab,0x2637
-2:pa5g80a1=0x1ed5,0xe3ac,0x56d4,0x27c7,0x1e7e,0xeaa7,0x62ff,0x2842,0x1ED4,0xDCF0,0x44D1,0x25F4,0x1ECA,0xDED1,0x4896,0x266E,0x1f1c,0xd90b,0x41f2,0x2620
-2:pa5g80a2=0x1ecb,0xe726,0x5734,0x2793,0x1fe3,0xd902,0x3d54,0x25a6,0x1DE2,0xE5E7,0x5F8C,0x28A1,0x1E82,0xDD7E,0x5587,0x286B,0x1f57,0xd90b,0x3f66,0x25f2
-2:pa5g80a3=0x1ea8,0xea7e,0x5cdc,0x2822,0x1f52,0xdfa1,0x430d,0x2666,0x1F70,0xDB8A,0x3E87,0x2598,0x1F1F,0xE0DF,0x4913,0x2648,0x1f9c,0xd896,0x3d91,0x260e
-2:pa5g40a0=0x1e40,0xdd5e,0x46a5,0x2699,0x1e89,0xdca4,0x4b89,0x275b,0x1E2D,0xDD7C,0x48B6,0x2673,0x1E70,0xD82F,0x3C1A,0x2584,0x1e67,0xd73d,0x38d3,0x255a
-2:pa5g40a1=0x1e67,0xda86,0x4b71,0x276d,0x1e4b,0xd847,0x3d72,0x2615,0x1DFF,0xDC74,0x43FF,0x25DE,0x1DEB,0xDE7C,0x4797,0x261E,0x1e65,0xd326,0x35b9,0x257b
-2:pa5g40a2=0x1e4b,0xda9b,0x3f76,0x25db,0x1e81,0xd6a5,0x34ef,0x24f9,0x1D78,0xDAE3,0x48F0,0x274A,0x1DBD,0xD4EB,0x4109,0x2708,0x1edc,0xd4f9,0x4027,0x26bd
-2:pa5g40a3=0x1ea3,0xd766,0x3a4f,0x25f6,0x1e75,0xdac3,0x3e88,0x2684,0x1E35,0xDE82,0x4888,0x26AD,0x1E10,0xE04E,0x4982,0x269B,0x1e9e,0xda04,0x43be,0x26fb
-2:pa5ga0=0x1d13,0xdce8,0x4bf9,0x2791,0x1d32,0xd66c,0x3722,0x259e,0x1DF3,0xCD12,0x29F2,0x250B,0x1DDC,0xD034,0x3117,0x25E9,0x1d64,0xd594,0x3bb8,0x2625
-2:pa5ga1=0x1cfb,0xdb5c,0x4a00,0x2766,0x1d0a,0xd371,0x309e,0x24e1,0x1DD0,0xCD36,0x29D0,0x24B6,0x1DD1,0xCD4F,0x2A67,0x2513,0x1d62,0xd3b9,0x3b94,0x2672
-2:pa5ga2=0x1d25,0xdd47,0x55d5,0x28d5,0x1d15,0xd804,0x3c8c,0x2625,0x1D29,0xC81B,0x2008,0x239B,0x1D4D,0xCCA5,0x41FC,0x2AAE,0x1e00,0xc759,0x1efa,0x232f
-2:pa5ga3=0x1d91,0xd187,0x2e92,0x2546,0x1cbc,0xe328,0x56b7,0x28f2,0x1DF9,0xD0D6,0x310C,0x2617,0x1E02,0xCE15,0x2954,0x2555,0x1dcb,0xcdf4,0x2965,0x24f2
+1:maxp5gb0a0=0x78
+1:maxp5gb1a0=0x78
+1:maxp5gb2a0=0x78
+1:maxp5gb3a0=0x78
+1:maxp5gb4a0=0x78
+1:maxp5gb0a1=0x78
+1:maxp5gb1a1=0x78
+1:maxp5gb2a1=0x78
+1:maxp5gb3a1=0x78
+1:maxp5gb4a1=0x78
+1:maxp5gb0a2=0x78
+1:maxp5gb1a2=0x78
+1:maxp5gb2a2=0x78
+1:maxp5gb3a2=0x78
+1:maxp5gb4a2=0x78
+1:maxp5gb0a3=0x78
+1:maxp5gb1a3=0x78
+1:maxp5gb2a3=0x78
+1:maxp5gb3a3=0x78
+1:maxp5gb4a3=0x78
+1:pa5g80a0=0x1fef,0xd66f,0x3a19,0x257b,0x2078,0xd598,0x3bc7,0x2598,0x1F6E,0xD912,0x3B2A,0x2563,0x1FA2,0xD71C,0x38D3,0x2524,0x1fd2,0xd7e4,0x42ab,0x2637
+1:pa5g80a1=0x1ed5,0xe3ac,0x56d4,0x27c7,0x1e7e,0xeaa7,0x62ff,0x2842,0x1ED4,0xDCF0,0x44D1,0x25F4,0x1ECA,0xDED1,0x4896,0x266E,0x1f1c,0xd90b,0x41f2,0x2620
+1:pa5g80a2=0x1ecb,0xe726,0x5734,0x2793,0x1fe3,0xd902,0x3d54,0x25a6,0x1DE2,0xE5E7,0x5F8C,0x28A1,0x1E82,0xDD7E,0x5587,0x286B,0x1f57,0xd90b,0x3f66,0x25f2
+1:pa5g80a3=0x1ea8,0xea7e,0x5cdc,0x2822,0x1f52,0xdfa1,0x430d,0x2666,0x1F70,0xDB8A,0x3E87,0x2598,0x1F1F,0xE0DF,0x4913,0x2648,0x1f9c,0xd896,0x3d91,0x260e
+1:pa5g40a0=0x1e40,0xdd5e,0x46a5,0x2699,0x1e89,0xdca4,0x4b89,0x275b,0x1E2D,0xDD7C,0x48B6,0x2673,0x1E70,0xD82F,0x3C1A,0x2584,0x1e67,0xd73d,0x38d3,0x255a
+1:pa5g40a1=0x1e67,0xda86,0x4b71,0x276d,0x1e4b,0xd847,0x3d72,0x2615,0x1DFF,0xDC74,0x43FF,0x25DE,0x1DEB,0xDE7C,0x4797,0x261E,0x1e65,0xd326,0x35b9,0x257b
+1:pa5g40a2=0x1e4b,0xda9b,0x3f76,0x25db,0x1e81,0xd6a5,0x34ef,0x24f9,0x1D78,0xDAE3,0x48F0,0x274A,0x1DBD,0xD4EB,0x4109,0x2708,0x1edc,0xd4f9,0x4027,0x26bd
+1:pa5g40a3=0x1ea3,0xd766,0x3a4f,0x25f6,0x1e75,0xdac3,0x3e88,0x2684,0x1E35,0xDE82,0x4888,0x26AD,0x1E10,0xE04E,0x4982,0x269B,0x1e9e,0xda04,0x43be,0x26fb
+1:pa5ga0=0x1d13,0xdce8,0x4bf9,0x2791,0x1d32,0xd66c,0x3722,0x259e,0x1DF3,0xCD12,0x29F2,0x250B,0x1DDC,0xD034,0x3117,0x25E9,0x1d64,0xd594,0x3bb8,0x2625
+1:pa5ga1=0x1cfb,0xdb5c,0x4a00,0x2766,0x1d0a,0xd371,0x309e,0x24e1,0x1DD0,0xCD36,0x29D0,0x24B6,0x1DD1,0xCD4F,0x2A67,0x2513,0x1d62,0xd3b9,0x3b94,0x2672
+1:pa5ga2=0x1d25,0xdd47,0x55d5,0x28d5,0x1d15,0xd804,0x3c8c,0x2625,0x1D29,0xC81B,0x2008,0x239B,0x1D4D,0xCCA5,0x41FC,0x2AAE,0x1e00,0xc759,0x1efa,0x232f
+1:pa5ga3=0x1d91,0xd187,0x2e92,0x2546,0x1cbc,0xe328,0x56b7,0x28f2,0x1DF9,0xD0D6,0x310C,0x2617,0x1E02,0xCE15,0x2954,0x2555,0x1dcb,0xcdf4,0x2965,0x24f2
 
 # for NAND flash
 bootflags=1
@@ -799,10 +853,11 @@ odmpid=RT-AC3100
 model=RT-AC3100
 
 # Bootloader Version
-bl_version=1.0.37_mesh
+bl_version=1.0.37_mesh2
 
 # ATEMODE
 ATEMODE=0
 
 # Customize
+territory_code=CN/04
 modelname=K3
diff --git a/release/src/router/rc/k3.c b/release/src/router/rc/k3.c
index 0cb1c20a52..e87e339382 100644
--- a/release/src/router/rc/k3.c
+++ b/release/src/router/rc/k3.c
@@ -63,14 +63,24 @@ void update_cfe_k3(void)
 	int i, j, k = 0;
 	int val;
 
-	if (!check_if_file_exist(ROMCFE) || cfe_nvram_match("bl_version", "1.0.37_mesh"))
+	kprintf("Check CFE version...\n", buf);
+	if (!check_if_file_exist(ROMCFE) || cfe_nvram_match("bl_version", "1.0.37_mesh2"))
 		return;
 	//if (pids("envrams"))
 	//sleep(5);
 
 	strcpy(et0mac, cfe_nvram_safe_get("et0macaddr"));
-	strcpy(wl1mac, cfe_nvram_safe_get("1:macaddr"));
-	strcpy(wl2mac, cfe_nvram_safe_get("2:macaddr"));
+	if (!cfe_nvram_get("0:macaddr"))
+	{
+		strcpy(wl1mac, cfe_nvram_safe_get("1:macaddr"));
+		strcpy(wl2mac, cfe_nvram_safe_get("2:macaddr"));
+	}
+	else
+	{
+		strcpy(wl1mac, cfe_nvram_safe_get("0:macaddr"));
+		strcpy(wl2mac, cfe_nvram_safe_get("1:macaddr"));
+	}
+
 	for (i = 0; et0mac[i]; ++i) {
 		if (et0mac[i] == '-')
 			et0mac[i] = ':';
@@ -115,10 +125,9 @@ void update_cfe_k3(void)
 	doSystem("dd if=%s of=/dev/mtdblock0 2>/dev/null", ROMCFE);
 
 	envram_set("et0macaddr", et0mac);
-	envram_set("1:macaddr", et0mac); // 2.4G MAC is the same as LAN MAC in Merlin
-	envram_set("2:macaddr", wl2mac);
-	if (!strlen(cfe_nvram_safe_get("1:macbak")))
-		envram_set("1:macbak", wl1mac); // Backup 2.4G MAC
+	envram_set("0:macaddr", et0mac); // 2.4G MAC is the same as LAN MAC in Merlin
+	envram_set("1:macaddr", wl2mac);
+	envram_set("2:macaddr", "00:11:22:33:44:66"); // For downgrade to 384
 	envram_set("secret_code", PIN);
 	envram_commit();
 	nvram_set("secret_code", PIN);
@@ -128,7 +137,7 @@ void update_cfe_k3(void)
 	//killall_tk("envrams");
 
 	bzero(buf, sizeof(buf));
-	snprintf(buf, sizeof(buf), "Set CFE MAC: LAN & 2.4G=%s, 2.4G_bak=%s, 5G=%s", et0mac, wl1mac, wl2mac);
+	snprintf(buf, sizeof(buf), "Set CFE MAC: LAN & 2.4G=%s, 5G=%s", et0mac, wl2mac);
 	//logmessage("K3INIT", "CFE has upgraded to 1.0.37_mesh already!");
 	//logmessage("K3INIT", buf);
 	kprintf("Upgraded CFE - %s\n", buf);
@@ -137,26 +146,36 @@ void update_cfe_k3(void)
 	reboot(RB_AUTOBOOT);
 }
 
-void k3_init()
+void k3_init(void)
 {
 	bool isChange = 0;
 
-	if (!nvram_get("modelname"))
+	kprintf("k3 init begin.\n");
+
+	if (nvram_match("modelname", ""))
 	{
 		nvram_set("modelname", "K3");
 		isChange = 1;
 	}
-	if (!nvram_get("screen_timeout"))
+	if (nvram_match("screen_timeout", ""))
 	{
 		nvram_set("screen_timeout", "30");
 		isChange = 1;
 	}
+	if (nvram_match("location_code", ""))
+	{
+		nvram_set("location_code", "AU");
+		isChange = 1;
+	}
 
 	if (isChange)
+	{
 		nvram_commit();
+		kprintf("location_code: %s\n", nvram_safe_get("location_code"));
+	}
 }
 
-void k3_init_done()
+void k3_init_done(void)
 {
 	start_k3screen();
 
-- 
2.25.1

